{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/rams-webapp/app/dashboard/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { supabase } from '@/lib/supabase'\r\nimport { Button } from '@/components/ui/button'\r\nimport { \r\n  LayoutDashboard, \r\n  FolderOpen, \r\n  FileText, \r\n  Users, \r\n  Shield,\r\n  LogOut \r\n} from 'lucide-react'\r\n\r\ninterface UserProfile {\r\n  id: string\r\n  email: string\r\n  full_name?: string\r\n  role: 'admin' | 'worker'\r\n}\r\n\r\nexport default function DashboardPage() {\r\n  const [userProfile, setUserProfile] = useState<UserProfile | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const getProfile = async () => {\r\n      const { data: { user } } = await supabase.auth.getUser()\r\n      \r\n      if (user) {\r\n        const { data: profile } = await supabase\r\n          .from('profiles')\r\n          .select('*')\r\n          .eq('id', user.id)\r\n          .single()\r\n        \r\n        setUserProfile(profile)\r\n      }\r\n      setLoading(false)\r\n    }\r\n\r\n    getProfile()\r\n  }, [])\r\n\r\n  const handleSignOut = async () => {\r\n    await supabase.auth.signOut()\r\n    window.location.href = '/'\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <div className=\"text-gray-600\">Loading...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex\">\r\n      {/* Sidebar */}\r\n      <div className=\"w-64 bg-white shadow-lg\">\r\n        <div className=\"p-6 border-b border-gray-200\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <Shield className=\"w-8 h-8 text-blue-600\" />\r\n            <div>\r\n              <h1 className=\"text-xl font-bold text-gray-800\">RAMS</h1>\r\n              <p className=\"text-sm text-gray-500\">\r\n                {userProfile?.role === 'admin' ? 'Administrator' : 'Worker'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <nav className=\"mt-6\">\r\n          <div className=\"px-6 py-3\">\r\n            <div className=\"flex items-center space-x-3 text-blue-600 bg-blue-50 rounded-lg p-3\">\r\n              <LayoutDashboard className=\"w-5 h-5\" />\r\n              <span className=\"font-medium\">Dashboard</span>\r\n            </div>\r\n          </div>\r\n          \r\n          {userProfile?.role === 'admin' ? (\r\n            <div className=\"space-y-1 px-6\">\r\n              <div className=\"flex items-center space-x-3 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg p-3 cursor-pointer\"\r\n              onClick={() => window.location.href = '/dashboard/projects'}\r\n              >\r\n              <FolderOpen className=\"w-5 h-5\" />\r\n              <span>Projects</span>\r\n            </div>\r\n              <div \r\n                className=\"flex items-center space-x-3 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg p-3 cursor-pointer\"\r\n                onClick={() => window.location.href = '/dashboard/rams'}\r\n              >\r\n                <FileText className=\"w-5 h-5\" />\r\n                <span>RAMS Documents</span>\r\n              </div>\r\n              <div \r\n                className=\"flex items-center space-x-3 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg p-3 cursor-pointer\"\r\n                onClick={() => window.location.href = '/dashboard/users'}\r\n              >\r\n                <Users className=\"w-5 h-5\" />\r\n                <span>Users</span>\r\n              </div>\r\n              <div \r\n                className=\"flex items-center space-x-3 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg p-3 cursor-pointer\"\r\n                onClick={() => window.location.href = '/dashboard/compliance'}\r\n              >\r\n                <Shield className=\"w-5 h-5\" />\r\n                <span>Compliance</span>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-1 px-6\">\r\n              <div className=\"flex items-center space-x-3 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg p-3 cursor-pointer\">\r\n                <FileText className=\"w-5 h-5\" />\r\n                <span>My RAMS</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-3 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg p-3 cursor-pointer\">\r\n                <FolderOpen className=\"w-5 h-5\" />\r\n                <span>My Projects</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"bg-white shadow-sm border-b border-gray-200 px-6 py-4\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-semibold text-gray-800\">Dashboard</h2>\r\n              <p className=\"text-gray-600\">Welcome back, {userProfile?.full_name || userProfile?.email}</p>\r\n            </div>\r\n            <Button onClick={handleSignOut} variant=\"outline\" className=\"flex items-center space-x-2\">\r\n              <LogOut className=\"w-4 h-4\" />\r\n              <span>Sign Out</span>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content Area */}\r\n        <div className=\"flex-1 p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6\">\r\n            {/* Stats Cards */}\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Total Projects</p>\r\n                  <p className=\"text-2xl font-semibold text-gray-800\">0</p>\r\n                </div>\r\n                <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n                  <FolderOpen className=\"w-6 h-6 text-blue-600\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">RAMS Documents</p>\r\n                  <p className=\"text-2xl font-semibold text-gray-800\">0</p>\r\n                </div>\r\n                <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\r\n                  <FileText className=\"w-6 h-6 text-green-600\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Pending Signatures</p>\r\n                  <p className=\"text-2xl font-semibold text-gray-800\">0</p>\r\n                </div>\r\n                <div className=\"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center\">\r\n                  <Shield className=\"w-6 h-6 text-orange-600\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Completed</p>\r\n                  <p className=\"text-2xl font-semibold text-gray-800\">0</p>\r\n                </div>\r\n                <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n                  <Shield className=\"w-6 h-6 text-purple-600\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Content Card */}\r\n          <div className=\"bg-white rounded-lg shadow\">\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <h3 className=\"text-lg font-medium text-gray-800\">Recent Activity</h3>\r\n            </div>\r\n            <div className=\"p-6\">\r\n              <p className=\"text-gray-600\">No recent activity to display.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}